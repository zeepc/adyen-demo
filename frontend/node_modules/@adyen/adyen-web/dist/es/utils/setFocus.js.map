{"version":3,"file":"setFocus.js","sources":["../../../src/utils/setFocus.ts"],"sourcesContent":["import { selectOne } from '../components/internal/SecuredFields/lib/utilities/dom';\nimport { windowScrollTo } from './windowScrollTo';\nimport ua from '../components/internal/SecuredFields/lib/CSF/utils/userAgent';\n\n/**\n * Generic function to set focus on named element\n * @param holder - DOM element or CSS selector string to search within\n * @param fieldToFocus - Name of the field to focus on\n * @param focusContextSelector - some fields can occur twice in a form but in a different context e.g. as part of a billingAddress or as part of a deliverySddress.\n * This param provides the context so we can select them correctly\n */\nexport const setFocusOnField = (holder: Element | string, fieldToFocus: string, focusContextSelector = '') => {\n    // If holder is already a DOM element, use it directly; otherwise query for it\n    const pdHolder = holder instanceof Element ? holder : selectOne(document, holder);\n\n    let field: HTMLElement;\n\n    // Identify if we're dealing with a dropdown\n    if (\n        fieldToFocus === 'country' ||\n        fieldToFocus === 'stateOrProvince' ||\n        fieldToFocus === 'issuer-list' ||\n        fieldToFocus === 'selectedAccountType'\n    ) {\n        // Set focus on dropdown\n        field = selectOne(pdHolder, `${focusContextSelector}.adyen-checkout__field--${fieldToFocus} .adyen-checkout__filter-input`);\n    } else {\n        // Set focus on input\n        field = selectOne(pdHolder, `${focusContextSelector} [name=\"${fieldToFocus}\"]`);\n    }\n\n    // Fix for iOS scrolling issues: can't programmatically set focus on an element on iOS, so we scroll to it instead, so at least it is in view\n    if (ua.__IS_IOS) {\n        windowScrollTo(field);\n    }\n\n    field?.focus({ preventScroll: ua.__IS_IOS }); // Don't even attempt to allow the focus call to trigger a scroll on iOS\n};\n"],"names":["setFocusOnField","holder","fieldToFocus","focusContextSelector","pdHolder","Element","selectOne","document","field","ua","__IS_IOS","windowScrollTo","focus","preventScroll"],"mappings":"0NAWO,MAAMA,EAAkB,CAACC,EAA0BC,EAAsBC,EAAuB,MAEnG,MAAMC,EAAWH,aAAkBI,QAAUJ,EAASK,EAAUC,SAAUN,GAE1E,IAAIO,EAUAA,EAAQF,EAAUF,EAND,YAAjBF,GACiB,oBAAjBA,GACiB,gBAAjBA,GACiB,wBAAjBA,EAG4B,GAAGC,4BAA+CD,kCAGlD,GAAGC,YAA+BD,OAI9DO,EAAGC,UACHC,EAAeH,GAGnBA,GAAOI,MAAM,CAAEC,cAAeJ,EAAGC"}