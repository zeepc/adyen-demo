{"version":3,"file":"USOnlyPhoneInput.js","sources":["../../../../../../src/components/Card/components/Fastlane/USOnlyPhoneInput.tsx"],"sourcesContent":["import { h } from 'preact';\nimport { useCallback, useEffect, useRef } from 'preact/hooks';\nimport Field from '../../../internal/FormFields/Field';\nimport useForm from '../../../../utils/useForm';\nimport InputTelephone from '../../../internal/FormFields/InputTelephone';\nimport { useCoreContext } from '../../../../core/Context/CoreProvider';\nimport mobileNumberFormatter from './utils/mobile-number-formatter';\n\ninterface USOnlyPhoneInputStateData {\n    mobileNumber?: string;\n}\n\ninterface USOnlyPhoneInputProps {\n    onChange(mobileNumber: string): void;\n    initialValue?: string;\n}\n\nconst USOnlyPhoneInput = ({ initialValue, onChange }: USOnlyPhoneInputProps) => {\n    const { i18n } = useCoreContext();\n    const formSchema = ['mobileNumber'];\n    const { handleChangeFor, data } = useForm<USOnlyPhoneInputStateData>({\n        schema: formSchema,\n        defaultData: {\n            mobileNumber: initialValue\n        },\n        formatters: {\n            mobileNumber: mobileNumberFormatter\n        }\n    });\n    const inputRef = useRef<HTMLInputElement>(null);\n\n    const focusInput = useCallback(() => {\n        inputRef.current?.focus();\n    }, [inputRef.current]);\n\n    useEffect(() => {\n        onChange(data.mobileNumber?.replaceAll(' ', ''));\n    }, [data.mobileNumber, onChange]);\n\n    return (\n        <Field name=\"mobile-number\" label={i18n.get('card.fastlane.mobileInputLabel')} staticValue=\"+1\" onInputContainerClick={focusInput}>\n            <InputTelephone\n                name={'mobile-number'}\n                autocorrect={'off'}\n                spellcheck={false}\n                maxlength={12}\n                value={data.mobileNumber}\n                onInput={handleChangeFor('mobileNumber', 'input')}\n                onBlur={handleChangeFor('mobileNumber', 'blur')}\n                setRef={inputRef}\n            />\n        </Field>\n    );\n};\n\nexport default USOnlyPhoneInput;\n"],"names":["USOnlyPhoneInput","initialValue","onChange","i18n","useCoreContext","handleChangeFor","data","useForm","schema","defaultData","mobileNumber","formatters","mobileNumberFormatter","inputRef","useRef","focusInput","useCallback","current","focus","useEffect","replaceAll","h","Field","name","label","get","staticValue","onInputContainerClick","InputTelephone","autocorrect","spellcheck","maxlength","value","onInput","onBlur","setRef"],"mappings":"6dAiBA,MAAMA,EAAmB,EAAGC,eAAcC,eACtC,MAAMC,KAAEA,GAASC,KAEXC,gBAAEA,EAAeC,KAAEA,GAASC,EAAmC,CACjEC,OAFe,CAAC,gBAGhBC,YAAa,CACTC,aAAcT,GAElBU,WAAY,CACRD,aAAcE,KAGhBC,EAAWC,EAAyB,MAEpCC,EAAaC,EAAY,KAC3BH,EAASI,SAASC,SACnB,CAACL,EAASI,UAMb,OAJAE,EAAU,KACNjB,EAASI,EAAKI,cAAcU,WAAW,IAAK,MAC7C,CAACd,EAAKI,aAAcR,IAGnBmB,EAACC,EAAAA,CAAMC,KAAK,gBAAgBC,MAAOrB,EAAKsB,IAAI,kCAAmCC,YAAY,KAAKC,sBAAuBZ,GACnHM,EAACO,EAAAA,CACGL,KAAM,gBACNM,YAAa,MACbC,YAAY,EACZC,UAAW,GACXC,MAAO1B,EAAKI,aACZuB,QAAS5B,EAAgB,eAAgB,SACzC6B,OAAQ7B,EAAgB,eAAgB,QACxC8B,OAAQtB"}