{"version":3,"file":"CardFields.js","sources":["../../../../../../../src/components/Card/components/CardInput/components/CardFields.tsx"],"sourcesContent":["import { h } from 'preact';\nimport CardNumber from './CardNumber';\nimport CVC from './CVC';\nimport ExpirationDate from './ExpirationDate';\nimport { useCoreContext } from '../../../../../core/Context/CoreProvider';\nimport { CardFieldsProps } from './types';\nimport classNames from 'classnames';\nimport {\n    BRAND_ICON_UI_EXCLUSION_LIST,\n    DATE_POLICY_HIDDEN,\n    ENCRYPTED_CARD_NUMBER,\n    ENCRYPTED_EXPIRY_DATE,\n    ENCRYPTED_SECURITY_CODE\n} from '../../../../internal/SecuredFields/lib/constants';\nimport AvailableBrands from './AvailableBrands';\nimport './CardFields.scss';\n\nexport default function CardFields({\n    brand,\n    brandsIcons,\n    brandsConfiguration,\n    dualBrandingElements,\n    errors,\n    focusedElement,\n    hasCVC,\n    cvcPolicy,\n    expiryDatePolicy,\n    onFocusField,\n    showBrandIcon,\n    valid,\n    showContextualElement\n}: CardFieldsProps) {\n    const { i18n } = useCoreContext();\n\n    const getError = (errors, fieldType) => {\n        return errors[fieldType] ? i18n.get(errors[fieldType]) : null;\n    };\n\n    // A set of brands filtered to exclude those that can never appear in the UI\n    const allowedBrands = brandsIcons?.filter(brandsIcons => !BRAND_ICON_UI_EXCLUSION_LIST?.includes(brandsIcons.name));\n    const isAmex = brand === 'amex';\n    const cvcContextualText = isAmex\n        ? i18n.get('creditCard.securityCode.contextualText.4digits')\n        : i18n.get('creditCard.securityCode.contextualText.3digits');\n\n    return (\n        <div className=\"adyen-checkout__card__form\">\n            <CardNumber\n                brand={brand}\n                brandsConfiguration={brandsConfiguration}\n                error={getError(errors, ENCRYPTED_CARD_NUMBER)}\n                focused={focusedElement === ENCRYPTED_CARD_NUMBER}\n                isValid={!!valid.encryptedCardNumber}\n                label={i18n.get('creditCard.cardNumber.label')}\n                onFocusField={onFocusField}\n                filled={!!errors.encryptedCardNumber || !!valid.encryptedCardNumber}\n                showBrandIcon={showBrandIcon}\n                dualBrandingElements={dualBrandingElements}\n            />\n\n            <AvailableBrands activeBrand={brand} brands={allowedBrands} />\n\n            <div\n                className={classNames('adyen-checkout__card__exp-cvc', {\n                    'adyen-checkout__card__exp-cvc__exp-date__input--hidden': expiryDatePolicy === DATE_POLICY_HIDDEN\n                })}\n            >\n                <ExpirationDate\n                    classNameModifiers={['col-50']}\n                    error={getError(errors, ENCRYPTED_EXPIRY_DATE)}\n                    focused={focusedElement === ENCRYPTED_EXPIRY_DATE}\n                    isValid={!!valid.encryptedExpiryMonth && !!valid.encryptedExpiryYear}\n                    filled={!!errors.encryptedExpiryDate || !!valid.encryptedExpiryYear}\n                    label={i18n.get('creditCard.expiryDate.label')}\n                    onFocusField={onFocusField}\n                    expiryDatePolicy={expiryDatePolicy}\n                    showContextualElement={showContextualElement}\n                    contextualText={i18n.get('creditCard.expiryDate.contextualText')}\n                />\n\n                {hasCVC && (\n                    <CVC\n                        classNameModifiers={['col-50']}\n                        error={getError(errors, ENCRYPTED_SECURITY_CODE)}\n                        focused={focusedElement === ENCRYPTED_SECURITY_CODE}\n                        cvcPolicy={cvcPolicy}\n                        isValid={!!valid.encryptedSecurityCode}\n                        filled={!!errors.encryptedSecurityCode || !!valid.encryptedSecurityCode}\n                        label={i18n.get('creditCard.securityCode.label')}\n                        onFocusField={onFocusField}\n                        frontCVC={isAmex}\n                        showContextualElement={showContextualElement}\n                        contextualText={cvcContextualText}\n                    />\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":["CardFields","brand","brandsIcons","brandsConfiguration","dualBrandingElements","errors","focusedElement","hasCVC","cvcPolicy","expiryDatePolicy","onFocusField","showBrandIcon","valid","showContextualElement","i18n","useCoreContext","getError","fieldType","get","allowedBrands","filter","BRAND_ICON_UI_EXCLUSION_LIST","includes","name","isAmex","cvcContextualText","h","div","className","CardNumber","error","ENCRYPTED_CARD_NUMBER","focused","isValid","encryptedCardNumber","label","filled","AvailableBrands","activeBrand","brands","classNames","DATE_POLICY_HIDDEN","ExpirationDate","classNameModifiers","ENCRYPTED_EXPIRY_DATE","encryptedExpiryMonth","encryptedExpiryYear","encryptedExpiryDate","contextualText","CVC","ENCRYPTED_SECURITY_CODE","encryptedSecurityCode","frontCVC"],"mappings":"uiBAiBe,SAASA,GAAWC,MAC/BA,EAAKC,YACLA,EAAWC,oBACXA,EAAmBC,qBACnBA,EAAoBC,OACpBA,EAAMC,eACNA,EAAcC,OACdA,EAAMC,UACNA,EAASC,iBACTA,EAAgBC,aAChBA,EAAYC,cACZA,EAAaC,MACbA,EAAKC,sBACLA,IAEA,MAAMC,KAAEA,GAASC,IAEXC,EAAW,CAACX,EAAQY,IACfZ,EAAOY,GAAaH,EAAKI,IAAIb,EAAOY,IAAc,KAIvDE,EAAgBjB,GAAakB,OAAOlB,IAAgBmB,GAA8BC,SAASpB,EAAYqB,OACvGC,EAAmB,SAAVvB,EACTwB,EAAoBD,EACpBV,EAAKI,IAAI,kDACTJ,EAAKI,IAAI,kDAEf,OACIQ,EAACC,MAAAA,CAAIC,UAAU,8BACXF,EAACG,EAAAA,CACG5B,MAAOA,EACPE,oBAAqBA,EACrB2B,MAAOd,EAASX,EAAQ0B,GACxBC,QAAS1B,IAAmByB,EAC5BE,UAAWrB,EAAMsB,oBACjBC,MAAOrB,EAAKI,IAAI,+BAChBR,aAAcA,EACd0B,SAAU/B,EAAO6B,uBAAyBtB,EAAMsB,oBAChDvB,cAAeA,EACfP,qBAAsBA,IAG1BsB,EAACW,EAAAA,CAAgBC,YAAarC,EAAOsC,OAAQpB,IAE7CO,EAACC,MAAAA,CACGC,UAAWY,EAAW,gCAAiC,CACnD,yDAA0D/B,IAAqBgC,KAGnFf,EAACgB,EAAAA,CACGC,mBAAoB,CAAC,UACrBb,MAAOd,EAASX,EAAQuC,GACxBZ,QAAS1B,IAAmBsC,EAC5BX,UAAWrB,EAAMiC,wBAA0BjC,EAAMkC,oBACjDV,SAAU/B,EAAO0C,uBAAyBnC,EAAMkC,oBAChDX,MAAOrB,EAAKI,IAAI,+BAChBR,aAAcA,EACdD,iBAAkBA,EAClBI,sBAAuBA,EACvBmC,eAAgBlC,EAAKI,IAAI,0CAG5BX,GACGmB,EAACuB,EAAAA,CACGN,mBAAoB,CAAC,UACrBb,MAAOd,EAASX,EAAQ6C,GACxBlB,QAAS1B,IAAmB4C,EAC5B1C,UAAWA,EACXyB,UAAWrB,EAAMuC,sBACjBf,SAAU/B,EAAO8C,yBAA2BvC,EAAMuC,sBAClDhB,MAAOrB,EAAKI,IAAI,iCAChBR,aAAcA,EACd0C,SAAU5B,EACVX,sBAAuBA,EACvBmC,eAAgBvB,KAMxC"}