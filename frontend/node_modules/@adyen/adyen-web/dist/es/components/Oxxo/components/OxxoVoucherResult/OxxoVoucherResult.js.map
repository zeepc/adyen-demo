{"version":3,"file":"OxxoVoucherResult.js","sources":["../../../../../../src/components/Oxxo/components/OxxoVoucherResult/OxxoVoucherResult.tsx"],"sourcesContent":["import { h } from 'preact';\nimport Voucher from '../../../../components/internal/Voucher';\nimport { VoucherDetail } from '../../../internal/Voucher/types';\n\nimport { useCoreContext } from '../../../../core/Context/CoreProvider';\nimport { OxxoVoucherResultProps } from '../../types';\nimport './OxxoVoucherResult.scss';\nimport useImage from '../../../../core/Context/useImage';\nimport { extractCommonPropsForVoucher } from '../../../internal/Voucher/utils';\n\nconst OxxoVoucherResult = (props: OxxoVoucherResultProps) => {\n    const { i18n, loadingContext } = useCoreContext();\n    const getImage = useImage();\n    const { alternativeReference, reference, expiresAt, merchantReference, downloadUrl } = props;\n\n    const barcodeUrl = `${loadingContext}utility/v1/barcode.png?data=${reference}&type=code128c&clientKey=${props.clientKey}`;\n\n    const voucherDetails: VoucherDetail[] = [\n        ...(expiresAt\n            ? [\n                  {\n                      label: i18n.get('voucher.expirationDate'),\n                      value: i18n.date(expiresAt)\n                  }\n              ]\n            : []),\n        ...(merchantReference\n            ? [\n                  {\n                      label: i18n.get('voucher.shopperReference'),\n                      value: merchantReference\n                  }\n              ]\n            : []),\n        ...(alternativeReference\n            ? [\n                  {\n                      label: i18n.get('voucher.alternativeReference'),\n                      value: alternativeReference\n                  }\n              ]\n            : [])\n    ];\n\n    return (\n        <Voucher\n            {...extractCommonPropsForVoucher({ props, i18n, introKey: 'voucher.introduction', getImage: getImage() })}\n            barcode={barcodeUrl}\n            copyBtn\n            downloadUrl={downloadUrl}\n            voucherDetails={voucherDetails}\n        />\n    );\n};\n\nexport default OxxoVoucherResult;\n"],"names":["OxxoVoucherResult","props","i18n","loadingContext","useCoreContext","getImage","useImage","alternativeReference","reference","expiresAt","merchantReference","downloadUrl","barcodeUrl","clientKey","voucherDetails","label","get","value","date","h","Voucher","extractCommonPropsForVoucher","introKey","barcode","copyBtn"],"mappings":"+UAUA,MAAMA,EAAqBC,IACvB,MAAMC,KAAEA,EAAIC,eAAEA,GAAmBC,IAC3BC,EAAWC,KACXC,qBAAEA,EAAoBC,UAAEA,EAASC,UAAEA,EAASC,kBAAEA,EAAiBC,YAAEA,GAAgBV,EAEjFW,EAAa,GAAGT,gCAA6CK,6BAAqCP,EAAMY,YAExGC,EAAkC,IAChCL,EACE,CACI,CACIM,MAAOb,EAAKc,IAAI,0BAChBC,MAAOf,EAAKgB,KAAKT,KAGzB,MACFC,EACE,CACI,CACIK,MAAOb,EAAKc,IAAI,4BAChBC,MAAOP,IAGf,MACFH,EACE,CACI,CACIQ,MAAOb,EAAKc,IAAI,gCAChBC,MAAOV,IAGf,IAGV,OACIY,EAACC,EAAAA,IACOC,EAA6B,CAAEpB,QAAOC,OAAMoB,SAAU,uBAAwBjB,SAAUA,MAC5FkB,QAASX,EACTY,SAAAA,EACAb,YAAaA,EACbG,eAAgBA"}