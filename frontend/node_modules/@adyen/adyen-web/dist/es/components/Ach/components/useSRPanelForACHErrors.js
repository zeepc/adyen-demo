import{useState as r,useEffect as s}from"../../../external/preact/hooks/dist/hooks.js";import e from"../../../core/Errors/useSRPanelContext.js";import{usePrevious as t}from"../../../utils/hookUtils.js";import{ERROR_ACTION_BLUR_SCENARIO as o,ERROR_ACTION_FOCUS_FIELD as a}from"../../../core/Errors/constants.js";import{setFocusOnField as c}from"../../../utils/setFocus.js";import{getArrayDifferences as i}from"../../../utils/arrayUtils.js";const n=({errors:n,data:u,isValidating:l})=>{const[m,f]=r(null),d=t(m),{setSRMessagesFromObjects:p,setSRMessagesFromStrings:h,clearSRPanel:S,shouldMoveFocusSR:g}=e(),j=p?.({}),y=["selectedAccountType","ownerName","routingNumber","accountNumber","accountNumberVerification"];s(()=>{try{const r=j?.({errors:n,isValidating:l.current,layout:y}),s=r?.currentErrorsSortedByLayout;switch(f(s),r?.action){case a:g&&c(".adyen-checkout__ach",r.fieldToFocus),setTimeout(()=>{l.current=!1},300);break;case o:{const r=i(s,d,"field"),e=r?.[0];if(e){const r=!0?e.errorMessage:null;h(r)}else S();break}}}catch(r){}},[n,u])};export{n as default};
//# sourceMappingURL=useSRPanelForACHErrors.js.map
