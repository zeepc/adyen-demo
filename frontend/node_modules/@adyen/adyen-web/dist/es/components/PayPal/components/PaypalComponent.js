import{createElement as a}from"../../../external/preact/dist/preact.js";import{useState as e,useCallback as t,useEffect as n}from"../../../external/preact/hooks/dist/hooks.js";import o from"./PaypalButtons.js";import s from"../../internal/Spinner/Spinner.js";import{getPaypalUrl as r}from"../utils/get-paypal-url.js";import p from"../../../utils/Script.js";import c from"../../../core/Analytics/useAnalytics.js";function i({onApprove:i,onCancel:l,onChange:u,onError:m,onSubmit:d,onScriptLoadFailure:y,...f}){const[_,h]=e("pending"),{analytics:g}=c();this.setStatus=h;const N=t((a,e)=>{h("processing"),i(a,e)},[i]),S=()=>{h("ready")},j=a=>{y(a)};return n(()=>{const a=r(f),e={...f.cspNonce&&{nonce:f.cspNonce}},t={...f.cspNonce&&{cspNonce:f.cspNonce}},n=new p({src:a,component:"paypal",attributes:e,dataAttributes:t,analytics:g});return n.load().then(S).catch(j),()=>{n.remove()}},[]),"pending"===_?a("div",{className:"adyen-checkout__paypal","aria-live":"polite","aria-busy":"true"},a("div",{className:"adyen-checkout__paypal__status adyen-checkout__paypal__status--pending","data-testid":"paypal-loader"},a(s,null))):a("div",{className:"adyen-checkout__paypal"},a(o,{...f,onCancel:l,onChange:u,onError:m,onSubmit:d,onApprove:N,isProcessingPayment:"processing"===_,paypalRef:window.paypal}))}export{i as default};
//# sourceMappingURL=PaypalComponent.js.map
