import{createElement as e}from"../../../external/preact/dist/preact.js";import{useState as t,useEffect as o}from"../../../external/preact/hooks/dist/hooks.js";import n from"./CampaignContent.js";import a from"../../internal/Button/Button.js";import s from"../../internal/Img/Img.js";import{useCoreContext as r}from"../../../core/Context/CoreProvider.js";import c from"../../internal/DisclaimerMessage/DisclaimerMessage.js";import u from"../../../core/Context/useImage.js";import i from"./FixedAmounts.js";import m from"./Roundup.js";import{getRoundupAmount as d,getAmountLabel as l,getRoundupAmountLabel as g}from"./utils.js";function _(_){const{donation:p,commercialTxAmount:y,onCancel:h,onDonate:k,showCancelButton:v=!0,termsAndConditionsUrl:f}=_,{i18n:C}=r(),x=u(),{currency:j,type:A}=p,N="roundup"===A,[B,D]=t("ready"),[w,F]=t(N),[S,I]=t({currency:j,value:N?d(p.maxRoundupAmount,y):null});this.setStatus=e=>{D(e)};const R=()=>{D("loading"),k({data:{amount:S}})};return o(()=>{_.onChange({data:{amount:S},isValid:w})},[S,w]),"error"===B?e("div",{className:"adyen-checkout__adyen-giving"},e(s,{className:"adyen-checkout__status__icon adyen-checkout__status__icon--error",src:x({imageFolder:"components/"})("error"),alt:C.get("error.message.unknown")}),e("div",{className:"adyen-checkout__status__text"},C.get("error.message.unknown"))):"success"===B?e("div",{className:"adyen-checkout__adyen-giving"},e(s,{className:"adyen-checkout__status__icon adyen-checkout__status__icon--success",src:x({imageFolder:"components/"})("heart"),alt:C.get("thanksForYourSupport")}),e("div",{className:"adyen-checkout__status__text"},C.get("thanksForYourSupport"))):e("div",{className:"adyen-checkout__adyen-giving"},e(n,_),e("div",{className:"adyen-checkout__adyen-giving-actions"},f&&e(c,{message:C.get("donationTermsCondition"),urls:[f]}),N?e(m,{donationAmount:g(C,{maxRoundupAmount:p.maxRoundupAmount,commercialTxAmount:y,currency:j}),originalPaymentAmount:l(C,{value:y,currency:j}),status:B,onDonateButtonClicked:R}):e(i,{selectedAmount:S.value,values:p.values,currency:j,status:B,onAmountSelected:({target:e})=>{const t=parseInt(e.value,10);F(!0),I(e=>({...e,value:t}))},onDonateButtonClicked:R}),v&&e(a,{classNameModifiers:["decline"],variant:"ghost",onClick:()=>{D("ready"),h({data:{amount:S},isValid:w})},disabled:"loading"===B,label:`${C.get("notNowButton")} â€º`})))}_.defaultProps={onCancel:()=>{},onChange:()=>{},onDonate:()=>{},donation:{},showCancelButton:!0};export{_ as default};
//# sourceMappingURL=DonationComponent.js.map
