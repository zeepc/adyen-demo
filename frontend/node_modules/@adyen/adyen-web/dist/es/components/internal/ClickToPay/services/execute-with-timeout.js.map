{"version":3,"file":"execute-with-timeout.js","sources":["../../../../../../src/components/internal/ClickToPay/services/execute-with-timeout.ts"],"sourcesContent":["import TimeoutError from '../errors/TimeoutError';\n\nfunction executeWithTimeout<T>(asyncFn: () => Promise<T>, timer: number, error: TimeoutError): Promise<T> {\n    let timeout = null;\n    const wait = (seconds: number) =>\n        new Promise<T>((_, reject) => {\n            timeout = setTimeout(() => reject(error), seconds);\n        });\n    return Promise.race<T>([asyncFn(), wait(timer)])\n        .then(value => {\n            clearTimeout(timeout);\n            return value;\n        })\n        .catch(error => {\n            clearTimeout(timeout);\n            throw error;\n        });\n}\nexport { executeWithTimeout };\n"],"names":["executeWithTimeout","asyncFn","timer","error","timeout","Promise","race","seconds","_","reject","setTimeout","then","value","clearTimeout","catch"],"mappings":"AAEA,SAASA,EAAsBC,EAA2BC,EAAeC,GACrE,IAAIC,EAAU,KAKd,OAAOC,QAAQC,KAAQ,CAACL,KAJVM,EAI0BL,EAHpC,IAAIG,QAAW,CAACG,EAAGC,KACfL,EAAUM,WAAW,IAAMD,EAAON,GAAQI,QAG7CI,KAAKC,IACFC,aAAaT,GACNQ,IAEVE,MAAMX,IAEH,MADAU,aAAaT,GACPD,IAXD,IAACI,CAalB"}