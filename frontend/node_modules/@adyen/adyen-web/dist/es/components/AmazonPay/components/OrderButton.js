import{createElement as e}from"../../../external/preact/dist/preact.js";import{useCoreContext as r}from"../../../core/Context/CoreProvider.js";import t from"../../internal/Button/Button.js";import{updateAmazonCheckoutSession as o}from"../services.js";import{useAmount as n}from"../../../core/Context/AmountProvider.js";function i(i){const{i18n:a,loadingContext:c}=r(),{amount:s}=n();return this.createOrder=()=>{const{amazonCheckoutSessionId:e,clientKey:r,chargePermissionType:t,publicKeyId:n,region:a,recurringMetadata:u,returnUrl:m}=i;o(c,r,{amount:s,chargePermissionType:t,checkoutResultReturnUrl:m,checkoutSessionId:e,publicKeyId:n,recurringMetadata:u,region:a}).then(e=>{if(!e?.action?.type)return console.error(e.errorMessage||"Could not get the AmazonPay URL");"redirect"===e.action.type&&window.location.assign(e.action.url)}).catch(e=>{i.onError&&i.onError(e,this.componentRef)})},e(t,{classNameModifiers:["standalone","pay"],label:a.get("confirmPurchase"),onClick:this.createOrder})}export{i as default};
//# sourceMappingURL=OrderButton.js.map
