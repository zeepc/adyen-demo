{"version":3,"file":"AnalyticsErrorEvent.js","sources":["../../../../../src/core/Analytics/events/AnalyticsErrorEvent.ts"],"sourcesContent":["import { AbstractAnalyticsEvent, AnalyticsEventCategory } from './AbstractAnalyticsEvent';\n\ntype AnalyticsErrorEventProps = {\n    component: string;\n    errorType: ErrorEventType;\n    code: string;\n    message?: string;\n};\n\nexport enum ErrorEventType {\n    network = 'Network',\n    implementation = 'Implementation',\n    internal = 'Internal',\n    apiError = 'ApiError',\n    sdkError = 'SdkError',\n    thirdParty = 'ThirdParty',\n    generic = 'Generic',\n    redirect = 'Redirect',\n    threeDS2 = 'ThreeDS2'\n}\n\nexport enum ErrorEventCode {\n    /** Trying to initialise a securedField iframe, but the iframe.contentWindow is undefined (meaning the containing element is not in the DOM */\n    SECURED_FIELDS_IFRAME_CONTENT_WINDOW_NOT_FOUND = '500',\n    /** */\n    REDIRECT = '600',\n    /**\n     * Key not present in served securedFields asset\n     */\n    SECURED_FIELDS_KEY_NOT_FOUND = '608',\n    /**\n     * Encryption key generation failed in securedField\n     */\n    SECURED_FIELDS_ENCRYPTION_KEY_GEN_FAILED = '609',\n    /**\n     * Encryption failed in securedField\n     */\n    SECURED_FIELDS_ENCRYPTION_ERROR = '610',\n\n    /**  Missing 'paymentData' property from threeDS2 action */\n    THREEDS2_ACTION_IS_MISSING_PAYMENT_DATA = '700',\n\n    /** Missing 'token' property from threeDS2 action */\n    THREEDS2_ACTION_IS_MISSING_TOKEN = '701',\n\n    /** Decoded token is missing a valid threeDSMethodURL property */\n    THREEDS2_TOKEN_IS_MISSING_THREEDSMETHODURL = '702',\n    /**\n     * Decoded token is missing one or more of the following properties:\n     *  fingerprint: (threeDSMethodNotificationURL | postMessageDomain | threeDSServerTransID)\n     *  challenge: (acsTransID | messageVersion | threeDSServerTransID)\n     */\n    THREEDS2_TOKEN_IS_MISSING_OTHER_PROPS = '703',\n\n    /** Token decoding or parsing has failed. ('not base64', 'malformed URI sequence' or 'Could not JSON parse token') */\n    THREEDS2_TOKEN_DECODE_OR_PARSING_FAILED = '704',\n\n    /** 3DS2 process has timed out */\n    THREEDS2_TIMEOUT = '710',\n\n    /** Decoded token is missing a valid acsURL property */\n    THREEDS2_TOKEN_IS_MISSING_ACSURL = '800',\n\n    /** Challenge has resulted in an error (no transStatus could be retrieved by the backend) */\n    THREEDS2_NO_TRANSSTATUS = '801',\n\n    /** callSubmit3DS2Fingerprint has received a response indicating either a \"frictionless\" flow, or a \"refused\" response, but without a details object */\n    THREEDS2_NO_DETAILS_FOR_FRICTIONLESS_OR_REFUSED = '802',\n\n    /** callSubmit3DS2Fingerprint cannot find a component to handle the action response */\n    THREEDS2_NO_COMPONENT_FOR_ACTION = '803',\n\n    /** callSubmit3DS2Fingerprint has received a response indicating a \"challenge\" but without an action object */\n    THREEDS2_NO_ACTION_FOR_CHALLENGE = '804',\n\n    /** The challenge process has happened, an object has been returned, parsed & accepted as legit, but the result prop on that object is either missing or doesn't have a transStatus prop */\n    THREEDS2_CHALLENGE_RESOLVED_WITHOUT_RESULT_PROP = '805'\n}\n\nexport class AnalyticsErrorEvent extends AbstractAnalyticsEvent {\n    private readonly errorType: ErrorEventType;\n    private readonly code: string;\n\n    private readonly message?: string;\n\n    constructor(props: AnalyticsErrorEventProps) {\n        super(props.component);\n\n        this.errorType = props.errorType;\n        this.code = props.code;\n\n        if (props.message) this.message = props.message;\n    }\n\n    public getEventCategory(): AnalyticsEventCategory {\n        return AnalyticsEventCategory.error;\n    }\n}\n"],"names":["ErrorEventType","ErrorEventCode","AnalyticsErrorEvent","AbstractAnalyticsEvent","getEventCategory","AnalyticsEventCategory","error","constructor","props","super","component","_define_property","errorType","this","code","message"],"mappings":"yNASO,IAAAA,EAAKA,SAAAA,GAAAA,yNAAAA,CAUX,CAVWA,CAUX,CAAA,GAEMC,EAAKA,SAAAA,GAAAA,OACoIA,EAAA,+CAAA,MAExIA,EAAA,SAAA,MAIHA,EAAA,6BAAA,MAIAA,EAAA,yCAAA,MAIAA,EAAA,gCAAA,MAGwDA,EAAA,wCAAA,MAGPA,EAAA,iCAAA,MAGaA,EAAA,2CAAA,MAM9DA,EAAA,sCAAA,MAGkHA,EAAA,wCAAA,MAGpFA,EAAA,iBAAA,MAGsBA,EAAA,iCAAA,MAGqCA,EAAA,wBAAA,MAG2DA,EAAA,gDAAA,MAGjEA,EAAA,iCAAA,MAGwBA,EAAA,iCAAA,MAG6EA,EAAA,gDAAA,MAtDjLA,CAwDX,CAxDWA,CAwDX,CAAA,GAEM,MAAMC,UAA4BC,EAe9BC,gBAAAA,GACH,OAAOC,EAAuBC,KAClC,CAXA,WAAAC,CAAYC,GACRC,MAAMD,EAAME,WANhBC,OAAiBC,oBACjBD,EAAAE,KAAiBC,eAEjBH,EAAAE,KAAiBE,kBAKbF,KAAKD,UAAYJ,EAAMI,UACvBC,KAAKC,KAAON,EAAMM,KAEdN,EAAMO,UAASF,KAAKE,QAAUP,EAAMO,QAC5C"}