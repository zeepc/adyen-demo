{"version":3,"file":"DeviceFingerprint.js","sources":["../../../../../../src/core/RiskModule/components/DeviceFingerprint/DeviceFingerprint.tsx"],"sourcesContent":["import { Component, h } from 'preact';\nimport GetDeviceFingerprint from './GetDeviceFingerprint';\nimport handleErrorCode from './utils';\nimport { DF_VERSION } from '../../constants';\nimport { DeviceFingerprintProps, DeviceFingerprintState } from './types';\n\nclass DeviceFingerprint extends Component<DeviceFingerprintProps, DeviceFingerprintState> {\n    constructor(props) {\n        super(props);\n\n        if (props.clientKey) {\n            this.state = {\n                status: 'retrievingFingerPrint',\n                dfpURL: `${this.props.loadingContext}assets/html/${props.clientKey}/dfp.${DF_VERSION}.html`\n            };\n        }\n    }\n\n    public static defaultProps = {\n        onComplete: () => {},\n        onError: () => {}\n    };\n\n    setStatusComplete(fingerprintResult) {\n        this.setState({ status: 'complete' }, () => {\n            this.props.onComplete(fingerprintResult);\n        });\n    }\n\n    render({ loadingContext }, { dfpURL }) {\n        if (this.state.status === 'retrievingFingerPrint') {\n            return (\n                <div className=\"adyen-checkout-risk__device-fingerprint--wrapper\" style={{ position: 'absolute', width: 0, height: 0 }}>\n                    <GetDeviceFingerprint\n                        loadingContext={loadingContext}\n                        dfpURL={dfpURL}\n                        onCompleteFingerprint={fingerprintResult => {\n                            this.setStatusComplete(fingerprintResult);\n                        }}\n                        onErrorFingerprint={fingerprintError => {\n                            this.props.onError(handleErrorCode(fingerprintError.errorCode));\n                            this.setStatusComplete(fingerprintError.result);\n                        }}\n                    />\n                </div>\n            );\n        }\n\n        return null;\n    }\n}\n\nexport default DeviceFingerprint;\n"],"names":["DeviceFingerprint","Component","setStatusComplete","fingerprintResult","this","setState","status","props","onComplete","render","loadingContext","dfpURL","state","h","div","className","style","position","width","height","GetDeviceFingerprint","onCompleteFingerprint","onErrorFingerprint","fingerprintError","onError","handleErrorCode","errorCode","result","constructor","super","clientKey","DF_VERSION","defaultProps"],"mappings":"6MAMA,MAAMA,UAA0BC,EAiB5BC,iBAAAA,CAAkBC,GACdC,KAAKC,SAAS,CAAEC,OAAQ,YAAc,KAClCF,KAAKG,MAAMC,WAAWL,IAE9B,CAEAM,MAAAA,EAAOC,eAAEA,IAAkBC,OAAEA,IACzB,MAA0B,0BAAtBP,KAAKQ,MAAMN,OAEPO,EAACC,MAAAA,CAAIC,UAAU,mDAAmDC,MAAO,CAAEC,SAAU,WAAYC,MAAO,EAAGC,OAAQ,IAC/GN,EAACO,EAAAA,CACGV,eAAgBA,EAChBC,OAAQA,EACRU,sBAAuBlB,IACnBC,KAAKF,kBAAkBC,IAE3BmB,mBAAoBC,IAChBnB,KAAKG,MAAMiB,QAAQC,EAAgBF,EAAiBG,YACpDtB,KAAKF,kBAAkBqB,EAAiBI,YAOrD,IACX,CA1CA,WAAAC,CAAYrB,GACRsB,MAAMtB,GAEFA,EAAMuB,YACN1B,KAAKQ,MAAQ,CACTN,OAAQ,wBACRK,OAAQ,GAAGP,KAAKG,MAAMG,6BAA6BH,EAAMuB,iBAAiBC,UAGtF,cAE6B,CACzBvB,WAAY,OACZgB,QAAS,WAFCQ,oBAZZhC"}