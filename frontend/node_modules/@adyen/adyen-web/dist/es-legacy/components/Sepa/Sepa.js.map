{"version":3,"file":"Sepa.js","sources":["../../../../src/components/Sepa/Sepa.tsx"],"sourcesContent":["import { Fragment, h } from 'preact';\nimport UIElement from '../internal/UIElement/UIElement';\nimport IbanInput from '../internal/IbanInput';\nimport { SepaElementData, SepaConfiguration } from './types';\nimport { TxVariants } from '../tx-variants';\nimport FormInstruction from '../internal/FormInstruction';\nimport type { ICore } from '../../core/types';\n\nclass SepaElement extends UIElement<SepaConfiguration> {\n    public static type = TxVariants.sepadirectdebit;\n\n    constructor(checkout: ICore, props?: SepaConfiguration) {\n        super(checkout, props);\n        this.state = { ...this.state, ...{ data: { ibanNumber: '', ownerName: '' } } };\n    }\n\n    /**\n     * Formats props on construction time\n     */\n    formatProps(props) {\n        return {\n            holderName: true,\n            ...props\n        };\n    }\n\n    /**\n     * Formats the component data output\n     */\n    formatData(): SepaElementData {\n        return {\n            paymentMethod: {\n                type: SepaElement.type,\n                iban: this.state.data['ibanNumber'],\n                ownerName: this.state.data['ownerName']\n            }\n        };\n    }\n\n    /**\n     * Returns whether the component state is valid or not\n     */\n    get isValid() {\n        return !!this.state.isValid;\n    }\n\n    protected override componentToRender(): h.JSX.Element {\n        return (\n            <Fragment>\n                <FormInstruction />\n\n                {/* @ts-ignore TODO: add props */}\n                <IbanInput\n                    ref={ref => {\n                        this.componentRef = ref;\n                    }}\n                    {...this.props}\n                    onChange={this.setState}\n                    // onSubmit={this.submit}\n                    payButton={this.payButton}\n                />\n            </Fragment>\n        );\n    }\n}\n\nexport default SepaElement;\n"],"names":["SepaElement","UIElement","formatProps","props","_object_spread","holderName","formatData","paymentMethod","type","iban","this","state","data","ownerName","isValid","componentToRender","h","Fragment","FormInstruction","IbanInput","ref","componentRef","onChange","setState","payButton","constructor","checkout","super","ibanNumber","_define_property","TxVariants","sepadirectdebit"],"mappings":"0lCAQA,MAAMA,UAAoBC,EAWtBC,WAAAA,CAAYC,GACR,OAAOC,EAAA,CACHC,YAAY,GACTF,EAEX,CAKAG,UAAAA,GACI,MAAO,CACHC,cAAe,CACXC,KAAMR,EAAYQ,KAClBC,KAAMC,KAAKC,MAAMC,KAAK,WACtBC,UAAWH,KAAKC,MAAMC,KAAK,WAGvC,CAKA,WAAIE,GACA,QAASJ,KAAKC,MAAMG,OACxB,CAEmBC,iBAAAA,GACf,OACIC,EAACC,EAAAA,KACGD,EAACE,EAAAA,MAGDF,EAACG,EAAAA,EAAAA,EAAAA,CACGC,IAAKA,IACDV,KAAKW,aAAeD,IAEpBV,KAAKP,OAAK,CACdmB,SAAUZ,KAAKa,SAEfC,UAAWd,KAAKc,aAIhC,CApDA,WAAAC,CAAYC,EAAiBvB,GACzBwB,MAAMD,EAAUvB,GAChBO,KAAKC,MAAQP,KAAKM,KAAKC,MAAU,CAAEC,KAAM,CAAEgB,WAAY,GAAIf,UAAW,KAC1E,EALAgB,EADE7B,EACYQ,OAAOsB,EAAWC"}