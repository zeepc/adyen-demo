{"version":3,"file":"BacsDD.js","sources":["../../../../src/components/BacsDD/BacsDD.tsx"],"sourcesContent":["import { h } from 'preact';\nimport UIElement from '../internal/UIElement/UIElement';\nimport BacsInput from './components/BacsInput';\nimport BacsResult from './components/BacsResult';\nimport PayButton from '../internal/PayButton';\nimport { TxVariants } from '../tx-variants';\nimport { VoucherConfiguration } from '../internal/Voucher/types';\nimport { BacsElementData } from './types';\nimport { PayButtonProps } from '../internal/PayButton/PayButton';\n\nclass BacsElement extends UIElement<VoucherConfiguration> {\n    public static type = TxVariants.directdebit_GB;\n\n    formatData(): BacsElementData {\n        return {\n            paymentMethod: {\n                type: BacsElement.type,\n                ...(this.state.data?.holderName && { holderName: this.state.data.holderName }),\n                ...(this.state.data?.bankAccountNumber && { bankAccountNumber: this.state.data.bankAccountNumber }),\n                ...(this.state.data?.bankLocationId && { bankLocationId: this.state.data.bankLocationId })\n            },\n            ...(this.state.data?.shopperEmail && { shopperEmail: this.state.data.shopperEmail })\n        };\n    }\n\n    get isValid(): boolean {\n        return !!this.state.isValid;\n    }\n\n    protected override payButton = (props: PayButtonProps) => {\n        return <PayButton onClick={this.submit} {...props} />;\n    };\n\n    protected override componentToRender(): h.JSX.Element {\n        return this.props.url ? (\n            <BacsResult\n                ref={ref => {\n                    this.componentRef = ref;\n                }}\n                icon={this.icon}\n                url={this.props.url}\n                paymentMethodType={this.props.paymentMethodType}\n                onActionHandled={this.onActionHandled}\n                // originalAction={this.props.originalAction}\n            />\n        ) : (\n            <BacsInput\n                // @ts-ignore ref is internal from the Component\n                ref={ref => {\n                    this.componentRef = ref;\n                }}\n                {...this.props}\n                onChange={this.setState}\n                payButton={this.payButton}\n                onSubmit={this.submit}\n            />\n        );\n    }\n}\n\nexport default BacsElement;\n"],"names":["BacsElement","UIElement","formatData","_this_state_data","_this_state_data1","_this_state_data2","_this_state_data3","_object_spread","paymentMethod","type","this","state","data","holderName","bankAccountNumber","bankLocationId","shopperEmail","isValid","componentToRender","props","url","h","BacsResult","ref","componentRef","icon","paymentMethodType","onActionHandled","BacsInput","onChange","setState","payButton","onSubmit","submit","super","args","_define_property","PayButton","onClick","TxVariants","directdebit_GB"],"mappings":"imCAUA,MAAMA,UAAoBC,EAGtBC,UAAAA,GAIgB,IAAAC,EACAC,EACAC,EAEJC,EAPR,OAAOC,EAAA,CACHC,cAAeD,EAAA,CACXE,KAAMT,EAAYS,OACC,QAAfN,EAAAO,KAAKC,MAAMC,YAAX,IAAAT,SAAAA,EAAiBU,aAAc,CAAEA,WAAYH,KAAKC,MAAMC,KAAKC,aAC9C,QAAfT,EAAAM,KAAKC,MAAMC,YAAX,IAAAR,SAAAA,EAAiBU,oBAAqB,CAAEA,kBAAmBJ,KAAKC,MAAMC,KAAKE,oBAC5D,QAAfT,EAAAK,KAAKC,MAAMC,YAAX,IAAAP,SAAAA,EAAiBU,iBAAkB,CAAEA,eAAgBL,KAAKC,MAAMC,KAAKG,mBAE1D,QAAfT,EAAAI,KAAKC,MAAMC,YAAX,IAAAN,SAAAA,EAAiBU,eAAgB,CAAEA,aAAcN,KAAKC,MAAMC,KAAKI,cAE7E,CAEA,WAAIC,GACA,QAASP,KAAKC,MAAMM,OACxB,CAMmBC,iBAAAA,GACf,OAAOR,KAAKS,MAAMC,IACdC,EAACC,EAAAA,CACGC,IAAKA,IACDb,KAAKc,aAAeD,GAExBE,KAAMf,KAAKe,KACXL,IAAKV,KAAKS,MAAMC,IAChBM,kBAAmBhB,KAAKS,MAAMO,kBAC9BC,gBAAiBjB,KAAKiB,kBAI1BN,EAACO,EAAAA,EAAAA,EAAAA,CAEGL,IAAKA,IACDb,KAAKc,aAAeD,IAEpBb,KAAKS,OAAK,CACdU,SAAUnB,KAAKoB,SACfC,UAAWrB,KAAKqB,UAChBC,SAAUtB,KAAKuB,SAG3B,mBA/CJC,SAAAC,GAmBIC,EAAA1B,KAAmBqB,YAAaZ,GACrBE,EAACgB,EAAAA,EAAAA,CAAUC,QAAS5B,KAAKuB,QAAYd,MAnBhDiB,EADEpC,EACYS,OAAO8B,EAAWC"}