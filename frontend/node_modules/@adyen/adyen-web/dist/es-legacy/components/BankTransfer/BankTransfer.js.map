{"version":3,"file":"BankTransfer.js","sources":["../../../../src/components/BankTransfer/BankTransfer.tsx"],"sourcesContent":["import { Fragment, h } from 'preact';\nimport UIElement from '../internal/UIElement/UIElement';\nimport RedirectButton from '../internal/RedirectButton';\nimport { BankTransferConfiguration, BankTransferState } from './types';\nimport BankTransferResult from './components/BankTransferResult';\nimport BankTransferInput from './components/BankTransferInput';\nimport { TxVariants } from '../tx-variants';\n\nexport class BankTransferElement extends UIElement<BankTransferConfiguration> {\n    public static type = TxVariants.bankTransfer_IBAN;\n    public static txVariants = [\n        TxVariants.bankTransfer_IBAN,\n        TxVariants.bankTransfer_BE,\n        TxVariants.bankTransfer_NL,\n        TxVariants.bankTransfer_PL,\n        TxVariants.bankTransfer_FR,\n        TxVariants.bankTransfer_CH,\n        TxVariants.bankTransfer_IE,\n        TxVariants.bankTransfer_GB,\n        TxVariants.bankTransfer_DE,\n        TxVariants.bankTransfer_AE,\n        TxVariants.bankTransfer_AT,\n        TxVariants.bankTransfer_AU,\n        TxVariants.bankTransfer_BG,\n        TxVariants.bankTransfer_CA,\n        TxVariants.bankTransfer_EE,\n        TxVariants.bankTransfer_ES,\n        TxVariants.bankTransfer_FI,\n        TxVariants.bankTransfer_HK,\n        TxVariants.bankTransfer_HU,\n        TxVariants.bankTransfer_IT,\n        TxVariants.bankTransfer_JP,\n        TxVariants.bankTransfer_LU,\n        TxVariants.bankTransfer_NZ,\n        TxVariants.bankTransfer_PT,\n        TxVariants.bankTransfer_SG,\n        TxVariants.bankTransfer_SK,\n        TxVariants.bankTransfer_US\n    ];\n\n    public static defaultProps = {\n        showEmailAddress: true,\n        showContextualElement: true,\n        data: { shopperEmail: '' }\n    };\n\n    // @ts-ignore Double check why state extends all props\n    public state: BankTransferState = {\n        isValid: !this.props.showEmailAddress,\n        data: {}\n    };\n\n    get isValid() {\n        return !!this.state.isValid;\n    }\n\n    /**\n     * Formats the component data output\n     */\n    formatData() {\n        const { shopperEmail } = this.state.data;\n        const subtype = this.type !== (TxVariants.bankTransfer_IBAN as string) ? { subtype: 'embedded' } : {};\n\n        return {\n            paymentMethod: {\n                type: this.type,\n                ...subtype\n            },\n            ...(shopperEmail && { shopperEmail })\n        };\n    }\n\n    protected override componentToRender(): h.JSX.Element {\n        if (this.props.reference) {\n            return <BankTransferResult {...this.props} onActionHandled={this.onActionHandled} />;\n        }\n\n        return (\n            <Fragment>\n                {this.props.showEmailAddress && <BankTransferInput setComponentRef={this.setComponentRef} {...this.props} onChange={this.setState} />}\n                <RedirectButton\n                    {...this.props}\n                    showPayButton={this.props.showPayButton}\n                    name={this.displayName}\n                    onSubmit={this.submit}\n                    payButton={this.payButton}\n                />\n            </Fragment>\n        );\n    }\n}\n\nexport default BankTransferElement;\n"],"names":["BankTransferElement","UIElement","isValid","this","state","formatData","shopperEmail","data","subtype","type","TxVariants","bankTransfer_IBAN","_object_spread","paymentMethod","componentToRender","props","reference","h","BankTransferResult","onActionHandled","Fragment","showEmailAddress","BankTransferInput","setComponentRef","onChange","setState","RedirectButton","showPayButton","name","displayName","onSubmit","submit","payButton","super","args","_define_property","txVariants","bankTransfer_BE","bankTransfer_NL","bankTransfer_PL","bankTransfer_FR","bankTransfer_CH","bankTransfer_IE","bankTransfer_GB","bankTransfer_DE","bankTransfer_AE","bankTransfer_AT","bankTransfer_AU","bankTransfer_BG","bankTransfer_CA","bankTransfer_EE","bankTransfer_ES","bankTransfer_FI","bankTransfer_HK","bankTransfer_HU","bankTransfer_IT","bankTransfer_JP","bankTransfer_LU","bankTransfer_NZ","bankTransfer_PT","bankTransfer_SG","bankTransfer_SK","bankTransfer_US","defaultProps","showContextualElement"],"mappings":"8qCAQO,MAAMA,UAA4BC,EA4CrC,WAAIC,GACA,QAASC,KAAKC,MAAMF,OACxB,CAKAG,UAAAA,GACI,MAAMC,aAAEA,GAAiBH,KAAKC,MAAMG,KAC9BC,EAAUL,KAAKM,OAAUC,EAAWC,kBAA+B,CAAEH,QAAS,YAAe,CAAA,EAEnG,OAAOI,EAAA,CACHC,cAAeD,EAAA,CACXH,KAAMN,KAAKM,MACRD,IAEHF,GAAgB,CAAEA,gBAE9B,CAEmBQ,iBAAAA,GACf,OAAIX,KAAKY,MAAMC,UACJC,EAACC,EAAAA,EAAAA,EAAAA,GAAuBf,KAAKY,OAAK,CAAEI,gBAAiBhB,KAAKgB,mBAIjEF,EAACG,OACIjB,KAAKY,MAAMM,kBAAoBJ,EAACK,EAAAA,EAAAA,EAAAA,CAAkBC,gBAAiBpB,KAAKoB,iBAAqBpB,KAAKY,OAAK,CAAES,SAAUrB,KAAKsB,YACzHR,EAACS,EAAAA,EAAAA,EAAAA,CAAAA,EACOvB,KAAKY,OAAK,CACdY,cAAexB,KAAKY,MAAMY,cAC1BC,KAAMzB,KAAK0B,YACXC,SAAU3B,KAAK4B,OACfC,UAAW7B,KAAK6B,aAIhC,mBAjFGC,SAAAC,GAuCHC,EAAAhC,KAAOC,QAA2B,CAC9BF,SAAUC,KAAKY,MAAMM,iBACrBd,KAAM,CAAA,KAxCV4B,EADSnC,EACKS,OAAOC,EAAWC,mBAChCwB,EAFSnC,EAEKoC,aAAa,CACvB1B,EAAWC,kBACXD,EAAW2B,gBACX3B,EAAW4B,gBACX5B,EAAW6B,gBACX7B,EAAW8B,gBACX9B,EAAW+B,gBACX/B,EAAWgC,gBACXhC,EAAWiC,gBACXjC,EAAWkC,gBACXlC,EAAWmC,gBACXnC,EAAWoC,gBACXpC,EAAWqC,gBACXrC,EAAWsC,gBACXtC,EAAWuC,gBACXvC,EAAWwC,gBACXxC,EAAWyC,gBACXzC,EAAW0C,gBACX1C,EAAW2C,gBACX3C,EAAW4C,gBACX5C,EAAW6C,gBACX7C,EAAW8C,gBACX9C,EAAW+C,gBACX/C,EAAWgD,gBACXhD,EAAWiD,gBACXjD,EAAWkD,gBACXlD,EAAWmD,gBACXnD,EAAWoD,kBAGf3B,EAhCSnC,EAgCK+D,eAAe,CACzB1C,kBAAkB,EAClB2C,uBAAuB,EACvBzD,KAAM,CAAED,aAAc"}