{"version":3,"file":"validateForm.js","sources":["../../../../../../../../src/components/internal/SecuredFields/lib/CSF/partials/validateForm.ts"],"sourcesContent":["import { CardAllValidData, SecuredFields } from '../../types';\nimport { CSFThisObject } from '../types';\n\nconst checkFormIsValid = (pSecuredFields: SecuredFields): boolean => {\n    const securedFieldKeys: string[] = Object.keys(pSecuredFields);\n\n    for (let i = 0, len = securedFieldKeys.length; i < len; i += 1) {\n        const key: string = securedFieldKeys[i];\n\n        if (!pSecuredFields[key].isValid) {\n            return false;\n        }\n    }\n    return true;\n};\n\n/**\n * @param csfState - comes from initial, partial, implementation\n * @param csfProps - comes from initial, partial, implementation\n * @param csfCallbacks - comes from initial, partial, implementation\n */\nexport default function validateForm({ csfState, csfProps, csfCallbacks }: CSFThisObject): void {\n    const isValid: boolean = checkFormIsValid(csfState.securedFields);\n\n    const validityHasChanged: boolean = isValid !== csfState.allValid;\n\n    csfState.allValid = isValid;\n\n    // Only call onAllValid callback if value has changed OR is true\n    if (!isValid && !validityHasChanged) return;\n\n    const callbackObj: CardAllValidData = { allValid: isValid, type: csfState.type, rootNode: csfProps.rootNode as HTMLElement };\n\n    // BROADCAST VALID STATE OF THE FORM AS A WHOLE\n    csfCallbacks.onAllValid(callbackObj);\n}\n"],"names":["validateForm","csfState","csfProps","csfCallbacks","isValid","pSecuredFields","securedFieldKeys","Object","keys","i","len","length","checkFormIsValid","securedFields","validityHasChanged","allValid","callbackObj","type","rootNode","onAllValid"],"mappings":"AAqBe,SAASA,GAAaC,SAAEA,EAAQC,SAAEA,EAAQC,aAAEA,IACvD,MAAMC,EAnBe,CAACC,IACtB,MAAMC,EAA6BC,OAAOC,KAAKH,GAE/C,IAAK,IAAII,EAAI,EAAGC,EAAMJ,EAAiBK,OAAQF,EAAIC,EAAKD,GAAK,EAGzD,IAAKJ,EAFeC,EAAiBG,IAEZL,QACrB,OAAO,EAGf,OAAO,GASkBQ,CAAiBX,EAASY,eAE7CC,EAA8BV,IAAYH,EAASc,SAKzD,GAHAd,EAASc,SAAWX,GAGfA,IAAYU,EAAoB,OAErC,MAAME,EAAgC,CAAED,SAAUX,EAASa,KAAMhB,EAASgB,KAAMC,SAAUhB,EAASgB,UAGnGf,EAAagB,WAAWH,EAC5B"}