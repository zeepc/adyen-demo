{"version":3,"file":"AbstractCSF.js","sources":["../../../../../../../src/components/internal/SecuredFields/lib/CSF/AbstractCSF.ts"],"sourcesContent":["import { CSFSetupObject, CSFConfigObject, CSFCallbacksConfig, CSFStateObject } from './types';\nimport { SFFeedbackObj, SendBrandObject, SendExpiryDateObject, CVCPolicyType, DatePolicyType, SFFieldType } from '../types';\nimport { createSecuredFields } from './extensions/createSecuredFields';\nimport processBrand from './partials/processBrand';\nimport handleBrandFromBinLookup from './extensions/handleBrandFromBinLookup';\n\nabstract class AbstractCSF {\n    // Set in CSF\n    protected callbacks: CSFCallbacksConfig;\n    protected config: CSFConfigObject;\n    protected props: CSFSetupObject;\n    protected state: CSFStateObject;\n    protected validateForm: () => void;\n    protected handleBrandFromBinLookup: typeof handleBrandFromBinLookup;\n    protected callbacksHandler: (callbacksObj: object) => void;\n    protected configHandler: (props: CSFSetupObject) => void;\n    protected createCardSecuredFields: (securedFields: HTMLElement[], cvcPolicy: CVCPolicyType, expiryDatePolicy: DatePolicyType) => Promise<any>;\n    protected createNonCardSecuredFields: (securedFields: HTMLElement[]) => Promise<any>;\n    protected createSecuredFields: typeof createSecuredFields;\n    protected destroySecuredFields: () => void;\n    protected handleIOSTouchEvents: () => void;\n    protected destroyTouchendListener: () => void;\n    protected destroyTouchstartListener: () => void;\n    protected handleBinValue: (pFeedbackObj: SFFeedbackObj) => void;\n    protected handleEncryption: (pFeedbackObj: SFFeedbackObj) => void;\n    protected handleFocus: (pFeedbackObj: SFFeedbackObj) => void;\n    protected handleIframeConfigFeedback: (pFeedbackObj) => boolean;\n    protected handleValidation: (pFeedbackObj: SFFeedbackObj) => void;\n    protected handleSFShiftTab: (fieldType: string) => void;\n    protected handleShiftTab: (fieldType: string) => void;\n    protected isConfigured: () => void;\n    protected postMessageToAllIframes: (pDataObj: object) => void;\n    protected processAutoComplete: (pFeedbackObj: SFFeedbackObj) => void;\n    protected processBrand: typeof processBrand;\n    protected sendBrandToCardSF: (brandObj: SendBrandObject) => void;\n    protected sendExpiryDatePolicyToSF: (dateObj: SendExpiryDateObject) => void;\n    protected setFocusOnFrame: (pFieldType: SFFieldType, doLog?: boolean) => void;\n    protected setupSecuredField: (pItem: HTMLElement) => void;\n    protected touchendListener: (e: Event) => void;\n    protected touchstartListener: () => void;\n    protected hasGenuineTouchEvents: boolean;\n    // Set in createSecuredFields\n    protected encryptedAttrName: string;\n    protected hasRedundantCVCField: boolean;\n    protected isSingleBrandedCard: boolean;\n    protected securityCode: string;\n    // --\n    protected constructor(setupObj: CSFSetupObject) {\n        this.props = setupObj;\n        this.state = {} as any as CSFStateObject;\n\n        // Initialise storage objects\n        this.config = {} as any as CSFConfigObject; // {} as ConfigObject fails in linting\n        this.callbacks = {} as any as CSFCallbacksConfig;\n    }\n}\nexport default AbstractCSF;\n"],"names":["AbstractCSF","constructor","setupObj","_define_property","this","callbacks","config","props","state","validateForm","handleBrandFromBinLookup","callbacksHandler","configHandler","createCardSecuredFields","createNonCardSecuredFields","createSecuredFields","destroySecuredFields","handleIOSTouchEvents","destroyTouchendListener","destroyTouchstartListener","handleBinValue","handleEncryption","handleFocus","handleIframeConfigFeedback","handleValidation","handleSFShiftTab","handleShiftTab","isConfigured","postMessageToAllIframes","processAutoComplete","processBrand","sendBrandToCardSF","sendExpiryDatePolicyToSF","setFocusOnFrame","setupSecuredField","touchendListener","touchstartListener","hasGenuineTouchEvents","encryptedAttrName","hasRedundantCVCField","isSingleBrandedCard","securityCode"],"mappings":"wHAMA,MAAeA,EAyCX,WAAAC,CAAsBC,GAvCtBC,EAAAC,KAAUC,oBACVF,EAAAC,KAAUE,iBACVH,EAAAC,KAAUG,gBACVJ,EAAAC,KAAUI,gBACVL,EAAAC,KAAUK,uBACVN,EAAAC,KAAUM,mCACVP,EAAAC,KAAUO,2BACVR,EAAAC,KAAUQ,wBACVT,EAAAC,KAAUS,kCACVV,EAAAC,KAAUU,qCACVX,EAAAC,KAAUW,8BACVZ,EAAAC,KAAUY,+BACVb,EAAAC,KAAUa,+BACVd,EAAAC,KAAUc,kCACVf,EAAAC,KAAUe,oCACVhB,EAAAC,KAAUgB,yBACVjB,EAAAC,KAAUiB,2BACVlB,EAAAC,KAAUkB,sBACVnB,EAAAC,KAAUmB,qCACVpB,EAAAC,KAAUoB,2BACVrB,EAAAC,KAAUqB,2BACVtB,EAAAC,KAAUsB,yBACVvB,EAAAC,KAAUuB,uBACVxB,EAAAC,KAAUwB,kCACVzB,EAAAC,KAAUyB,8BACV1B,EAAAC,KAAU0B,uBACV3B,EAAAC,KAAU2B,4BACV5B,EAAAC,KAAU4B,mCACV7B,EAAAC,KAAU6B,0BACV9B,EAAAC,KAAU8B,4BACV/B,EAAAC,KAAU+B,2BACVhC,EAAAC,KAAUgC,6BACVjC,EAAAC,KAAUiC,gCAEVlC,EAAAC,KAAUkC,4BACVnC,EAAAC,KAAUmC,+BACVpC,EAAAC,KAAUoC,8BACVrC,EAAAC,KAAUqC,uBAGNrC,KAAKG,MAAQL,EACbE,KAAKI,MAAQ,CAAA,EAGbJ,KAAKE,OAAS,GACdF,KAAKC,UAAY,CAAA,CACrB"}