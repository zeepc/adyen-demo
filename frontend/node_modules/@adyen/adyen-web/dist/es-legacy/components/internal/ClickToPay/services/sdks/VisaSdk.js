import{getVisaSetttings as e,VISA_SDK_PROD as t,VISA_SDK_TEST as r}from"./config.js";import n from"./AbstractSrcInitiator.js";import i from"./SrciError.js";function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}const s={email:"EMAIL",telephoneNumber:"MOBILE_NUMBER"};class a extends n{isSdkIsAvailableOnWindow(){var e;return!!(null===(e=window.vAdapters)||void 0===e?void 0:e.VisaSRCI)}assignSdkReference(){this.schemeSdk=new window.vAdapters.VisaSRCI}async init(t,r){try{const n=c(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}({},t,e(this.customSdkConfiguration)),{srciTransactionId:r});await this.schemeSdk.init(n)}catch(e){throw new i(e,"init",this.schemeName)}}async identityLookup({identityValue:e,type:t}){try{const r={identityValue:e,type:s[t]};return await this.schemeSdk.identityLookup(r)}catch(e){throw new i(e,"identityLookup",this.schemeName)}}async completeIdentityValidation(e){try{return await this.schemeSdk.completeIdentityValidation(e)}catch(e){throw new i(e,"completeIdentityValidation",this.schemeName)}}constructor(e,n,i){super(e.toLowerCase().includes("live")?t:r,n,i),o(this,"schemeName","visa")}}export{a as default};
//# sourceMappingURL=VisaSdk.js.map
