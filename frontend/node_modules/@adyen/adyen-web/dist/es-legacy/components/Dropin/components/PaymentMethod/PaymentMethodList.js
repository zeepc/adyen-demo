import{createElement as e,Fragment as t}from"../../../../external/preact/dist/preact.js";import o from"../../../../utils/getProp.js";import{OrderPaymentMethods as r}from"./OrderPaymentMethods.js";import{InstantPaymentMethods as n}from"./InstantPaymentMethods.js";import{useCoreContext as s}from"../../../../core/Context/CoreProvider.js";import{useBrandLogoConfiguration as l}from"./useBrandLogoConfiguration.js";import a from"./PaymentMethodsContainer.js";import{useEffect as i}from"../../../../external/preact/hooks/dist/hooks.js";function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),r.forEach(function(t){p(e,t,o[t])})}return e}function d(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t.push.apply(t,o)}return t}(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),e}function y(e,t){if(null==e)return{};var o,r,n,s={};if("undefined"!=typeof Reflect&&Reflect.ownKeys){for(o=Reflect.ownKeys(e),n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r]);return s}if(s=function(e,t){if(null==e)return{};var o,r,n={},s=Object.getOwnPropertyNames(e);for(r=0;r<s.length;r++)o=s[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o]);return n}(e,t),Object.getOwnPropertySymbols)for(o=Object.getOwnPropertySymbols(e),n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r]);return s}const m=p=>{let{paymentMethods:m,instantPaymentMethods:f,storedPaymentMethods:u,openFirstStoredPaymentMethod:b,openFirstPaymentMethod:O,openPaymentMethod:h,order:P,orderStatus:j=null,onOrderCancel:g,onSelect:M=()=>{}}=p,v=y(p,["paymentMethods","instantPaymentMethods","storedPaymentMethods","openFirstStoredPaymentMethod","openFirstPaymentMethod","openPaymentMethod","order","orderStatus","onOrderCancel","onSelect"]);const{i18n:S}=s(),w=l(m),C=(null==f?void 0:f.length)>0,x=(null==u?void 0:u.length)>0,E=C||x?S.get("paymentMethodsList.otherPayments.label"):"";return i(()=>{if(null==h?void 0:h.type){const e=null==m?void 0:m.find(e=>e.type===(null==h?void 0:h.type));if(e)return void M(e);console.warn(`Drop-in: payment method type "${null==h?void 0:h.type}" not found`)}const e=null==u?void 0:u[0],t=null==m?void 0:m[0];if(e||t){if(b&&!0===o(e,"props.oneClick"))return void M(e);O&&M(t)}},[u,m,b,O,h]),e(t,null,j&&e(r,{order:P,orderStatus:j,onOrderCancel:g,brandLogoConfiguration:w}),C&&e(n,{paymentMethods:f,onSelect:M}),x&&e(a,d(c({},v),{label:S.get("paymentMethodsList.storedPayments.label"),classNameModifiers:["storedPayments"],paymentMethods:u,onSelect:M})),!!m.length&&e(a,d(c({},v),{label:E,classNameModifiers:["otherPayments"],paymentMethods:m,onSelect:M})))};export{m as default};
//# sourceMappingURL=PaymentMethodList.js.map
