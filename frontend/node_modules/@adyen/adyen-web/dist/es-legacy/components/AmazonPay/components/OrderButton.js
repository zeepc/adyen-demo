import{createElement as e}from"../../../external/preact/dist/preact.js";import{useCoreContext as r}from"../../../core/Context/CoreProvider.js";import o from"../../internal/Button/Button.js";import{updateAmazonCheckoutSession as t}from"../services.js";import{useAmount as n}from"../../../core/Context/AmountProvider.js";function i(i){const{i18n:a,loadingContext:c}=r(),{amount:s}=n();return this.createOrder=()=>{const{amazonCheckoutSessionId:e,clientKey:r,chargePermissionType:o,publicKeyId:n,region:a,recurringMetadata:l,returnUrl:u}=i;t(c,r,{amount:s,chargePermissionType:o,checkoutResultReturnUrl:u,checkoutSessionId:e,publicKeyId:n,recurringMetadata:l,region:a}).then(e=>{var r;if(!(null==e||null===(r=e.action)||void 0===r?void 0:r.type))return console.error(e.errorMessage||"Could not get the AmazonPay URL");"redirect"===e.action.type&&window.location.assign(e.action.url)}).catch(e=>{i.onError&&i.onError(e,this.componentRef)})},e(o,{classNameModifiers:["standalone","pay"],label:a.get("confirmPurchase"),onClick:this.createOrder})}export{i as default};
//# sourceMappingURL=OrderButton.js.map
