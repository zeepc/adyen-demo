import{getDecimalAmount as e}from"../../utils/amount-util.js";import t from"./config.js";function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){r(e,t,n[t])})}return e}function a(e,t){if(null==e)return{};var r,n,a,i={};if("undefined"!=typeof Reflect&&Reflect.ownKeys){for(r=Reflect.ownKeys(e),a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n]);return i}if(i=function(e,t){if(null==e)return{};var r,n,a={},i=Object.getOwnPropertyNames(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r]);return a}(e,t),Object.getOwnPropertySymbols)for(r=Object.getOwnPropertySymbols(e),a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n]);return i}function i({allowedAuthMethods:e,allowedCardNetworks:r,existingPaymentMethodRequired:n=!1}){return{apiVersion:t.API_VERSION,apiVersionMinor:t.API_VERSION_MINOR,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:e,allowedCardNetworks:r},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{}}}],existingPaymentMethodRequired:n}}function o(t){let{amount:r,countryCode:i="US",totalPriceStatus:o="FINAL"}=t,l=a(t,["amount","countryCode","totalPriceStatus"]);const s=String(e(r.value,r.currency));return n({countryCode:i,currencyCode:r.currency,totalPrice:s,totalPriceStatus:o},l.transactionInfo)}function l(e,r){let i=[e,r],[l,...s]=i,{configuration:d}=l,c=a(l,["configuration"]),[u]=s;return{apiVersion:t.API_VERSION,apiVersionMinor:t.API_VERSION_MINOR,transactionInfo:o(n({countryCode:u},c)),merchantInfo:n({merchantId:d.merchantId,merchantName:d.merchantName},d.merchantOrigin?{merchantOrigin:d.merchantOrigin}:{},d.authJwt?{authJwt:d.authJwt}:{}),allowedPaymentMethods:[{type:"CARD",tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:t.GATEWAY,gatewayMerchantId:d.gatewayMerchantId}},parameters:{allowedAuthMethods:c.allowedAuthMethods,allowedCardNetworks:c.allowedCardNetworks,assuranceDetailsRequired:c.assuranceDetailsRequired,allowPrepaidCards:c.allowPrepaidCards,allowCreditCards:c.allowCreditCards,billingAddressRequired:c.billingAddressRequired,billingAddressParameters:c.billingAddressParameters}}],emailRequired:c.emailRequired,shippingAddressRequired:c.shippingAddressRequired,shippingAddressParameters:c.shippingAddressParameters,shippingOptionRequired:c.shippingOptionRequired,shippingOptionParameters:c.shippingOptionParameters,callbackIntents:c.callbackIntents}}export{o as getTransactionInfo,l as initiatePaymentRequest,i as isReadyToPayRequest};
//# sourceMappingURL=requests.js.map
