{"version":3,"file":"PaymentMethods.js","sources":["../../../../../src/core/ProcessResponse/PaymentMethods/PaymentMethods.ts"],"sourcesContent":["import { RawPaymentMethod, PaymentMethodsResponse, RawStoredPaymentMethod } from '../../../types/global-types';\nimport { checkPaymentMethodsResponse, processPaymentMethods, processStoredPaymentMethods } from './utils';\n\nexport type PaymentMethod = RawPaymentMethod & {\n    /**\n     * Internal ID generated when parsing the payment method list\n     */\n    _id: string;\n};\n\nexport type StoredPaymentMethod = RawStoredPaymentMethod & {\n    /**\n     * A unique identifier of this stored payment method. Mapped from 'storedPaymentMethod.id'\n     * @internal\n     */\n    storedPaymentMethodId?: string;\n    /**\n     * Internal flag\n     * @internal\n     */\n    isStoredPaymentMethod?: boolean;\n};\n\nclass PaymentMethods {\n    public paymentMethods: PaymentMethod[] = [];\n    public storedPaymentMethods: StoredPaymentMethod[] = [];\n\n    constructor(response: PaymentMethodsResponse, options = {}) {\n        checkPaymentMethodsResponse(response);\n\n        this.paymentMethods = response ? processPaymentMethods(response.paymentMethods, options) : [];\n        this.storedPaymentMethods = response\n            ? processStoredPaymentMethods(response.storedPaymentMethods, options, response.paymentMethods || [])\n            : [];\n    }\n\n    private mapCreatedComponentType(pmType: string): string {\n        // Components created as 'card' need to be matched with paymentMethod response objects with type 'scheme'\n        return pmType === 'card' ? 'scheme' : pmType;\n    }\n\n    has(paymentMethod: string): boolean {\n        return Boolean(this.paymentMethods.find(pm => pm.type === this.mapCreatedComponentType(paymentMethod)));\n    }\n\n    find(paymentMethod: string): PaymentMethod {\n        return this.paymentMethods.find(pm => pm.type === this.mapCreatedComponentType(paymentMethod));\n    }\n\n    findById(paymentMethodId: string): PaymentMethod {\n        return this.paymentMethods.find(pm => pm._id === paymentMethodId);\n    }\n\n    findStoredPaymentMethod(storedPaymentMethodId: string): StoredPaymentMethod {\n        return this.storedPaymentMethods.find(pm => pm.id === storedPaymentMethodId);\n    }\n}\n\nexport default PaymentMethods;\n"],"names":["PaymentMethods","mapCreatedComponentType","pmType","has","paymentMethod","Boolean","this","paymentMethods","find","pm","type","findById","paymentMethodId","_id","findStoredPaymentMethod","storedPaymentMethodId","storedPaymentMethods","id","constructor","response","options","_define_property","checkPaymentMethodsResponse","processPaymentMethods","processStoredPaymentMethods"],"mappings":"6OAuBA,MAAMA,EAaMC,uBAAAA,CAAwBC,GAE5B,MAAkB,SAAXA,EAAoB,SAAWA,CAC1C,CAEAC,GAAAA,CAAIC,GACA,OAAOC,QAAQC,KAAKC,eAAeC,KAAKC,GAAMA,EAAGC,OAASJ,KAAKL,wBAAwBG,IAC3F,CAEAI,IAAAA,CAAKJ,GACD,OAAOE,KAAKC,eAAeC,KAAKC,GAAMA,EAAGC,OAASJ,KAAKL,wBAAwBG,GACnF,CAEAO,QAAAA,CAASC,GACL,OAAON,KAAKC,eAAeC,KAAKC,GAAMA,EAAGI,MAAQD,EACrD,CAEAE,uBAAAA,CAAwBC,GACpB,OAAOT,KAAKU,qBAAqBR,KAAKC,GAAMA,EAAGQ,KAAOF,EAC1D,CA5BA,WAAAG,CAAYC,EAAkCC,EAAU,IAHxDC,EAAAf,KAAOC,iBAAkC,IACzCc,EAAAf,KAAOU,uBAA8C,IAGjDM,EAA4BH,GAE5Bb,KAAKC,eAAiBY,EAAWI,EAAsBJ,EAASZ,eAAgBa,GAAW,GAC3Fd,KAAKU,qBAAuBG,EACtBK,EAA4BL,EAASH,qBAAsBI,EAASD,EAASZ,gBAAkB,IAC/F,EACV"}