{"version":3,"file":"PaymentStatus.js","sources":["../../../../../src/core/ProcessResponse/PaymentStatus/PaymentStatus.ts"],"sourcesContent":["import { ProcessedPaymentStatusResponse, RawPaymentStatusResponse } from '../../../types/global-types';\n\n/**\n * Processes a complete response from Adyen by resultCode\n * @param response - to be processed\n * @returns a new object describing the response result (ready for onStatusChange)\n */\nconst processPaymentStatusCompleteResponse = (response: RawPaymentStatusResponse): ProcessedPaymentStatusResponse => {\n    switch (response.resultCode.toLowerCase()) {\n        case 'refused':\n        case 'error':\n        case 'cancelled':\n            return { type: 'error', props: { ...response, message: 'error.subtitle.refused' } };\n        case 'unknown':\n            return { type: 'error', props: { ...response, message: 'error.message.unknown' } };\n        case 'pending':\n        case 'received':\n            return { type: response.resultCode.toLowerCase(), props: response };\n        case 'authorised':\n            return { type: 'success', props: response };\n        default:\n            return { type: 'success', props: response };\n    }\n};\n\n/**\n * Processes a response from Adyen by type\n * @param response - to be processed\n * @returns a new object describing the response result (ready for onStatusChange)\n */\nexport const processPaymentStatusResponse = (response: RawPaymentStatusResponse): ProcessedPaymentStatusResponse => {\n    if (!response.type && response.resultCode) {\n        return processPaymentStatusCompleteResponse(response);\n    }\n\n    if (!response.type) {\n        return { type: 'error', props: response };\n    }\n\n    switch (response.type.toLowerCase()) {\n        case 'pending':\n            return { type: 'pending', props: response };\n        case 'complete':\n            return processPaymentStatusCompleteResponse(response);\n        case 'validation':\n            return { type: 'error', props: response };\n        default:\n            return { type: 'error', props: response };\n    }\n};\n"],"names":["processPaymentStatusCompleteResponse","response","resultCode","toLowerCase","type","props","_object_spread_props","_object_spread","message","processPaymentStatusResponse"],"mappings":"yyBAOA,MAAMA,EAAwCC,IAC1C,OAAQA,EAASC,WAAWC,eACxB,IAAK,UACL,IAAK,QACL,IAAK,YACD,MAAO,CAAEC,KAAM,QAASC,MAAOC,EAAAC,EAAA,CAAA,EAAKN,GAAAA,CAAUO,QAAS,4BAC3D,IAAK,UACD,MAAO,CAAEJ,KAAM,QAASC,MAAOC,EAAAC,EAAA,CAAA,EAAKN,GAAAA,CAAUO,QAAS,2BAC3D,IAAK,UACL,IAAK,WACD,MAAO,CAAEJ,KAAMH,EAASC,WAAWC,cAAeE,MAAOJ,GAG7D,QACI,MAAO,CAAEG,KAAM,UAAWC,MAAOJ,KAShCQ,EAAgCR,IACzC,IAAKA,EAASG,MAAQH,EAASC,WAC3B,OAAOF,EAAqCC,GAGhD,IAAKA,EAASG,KACV,MAAO,CAAEA,KAAM,QAASC,MAAOJ,GAGnC,OAAQA,EAASG,KAAKD,eAClB,IAAK,UACD,MAAO,CAAEC,KAAM,UAAWC,MAAOJ,GACrC,IAAK,WACD,OAAOD,EAAqCC,GAGhD,QACI,MAAO,CAAEG,KAAM,QAASC,MAAOJ"}